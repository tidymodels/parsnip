<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">



<title>parsnip Basics</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 800px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 20px;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 0;
padding: 4px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table:not([class]) {
margin: auto;
min-width: 40%;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table[summary="R argblock"] {
width: 100%;
border: none;
}
table:not([class]) th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table:not([class]) td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table:not([class]), table:not([class]) th, table:not([class]) td {
border-left-style: none;
border-right-style: none;
}
table:not([class]) tr.odd {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 13px;
padding-bottom: 1px;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f5f5f5;
border-radius: 3px;
color: #333;
}
pre {
overflow-x: auto;
border-radius: 3px;
margin: 5px 0 10px 0;
padding: 10px;
}
pre:not([class]) {
background-color: white;
border: #f5f5f5 1px solid;
}
pre:not([class]) code {
color: #444;
background-color: white;
}
code {
font-family: monospace;
font-size: 90%;
}
p > code, li > code {
padding: 2px 4px;
color: #d14;
border: 1px solid #e1e1e8;
white-space: inherit;
}
div.figure {
text-align: center;
}
table > caption, div.figure p.caption {
font-style: italic;
}
table > caption span, div.figure p.caption span {
font-style: normal;
font-weight: bold;
}
p {
margin: 0 0 10px;
}
table:not([class]) {
margin: auto auto 10px auto;
}
img:not([class]) {
background-color: #FFFFFF;
padding: 2px;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
max-width: 100%;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f5f5f5;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f5f5f5;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f5f5f5;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }
div.r-help-page {
background-color: #f9f9f9;
border-bottom: #ddd 1px solid;
margin-bottom: 10px;
padding: 10px;
}
div.r-help-page:hover {
background-color: #f4f4f4;
}

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

</head>

<body>




<h1 class="title toc-ignore">parsnip Basics</h1>


<div id="TOC">
<ul>
<li><a href="#motivation">Motivation</a></li>
<li><a href="#placeholders-for-parameters">Placeholders for Parameters</a></li>
<li><a href="#specifying-arguments">Specifying Arguments</a></li>
<li><a href="#process">Process</a></li>
<li><a href="#fitting-the-model">Fitting the Model</a></li>
</ul>
</div>

<p>This package provides functions and methods to create and manipulate functions commonly used during modeling (e.g. fitting the model, making predictions, etc). It allows the user to manipulate how the same type of model can be created from different sources. It also contains a basic framework for model parameter tuning.</p>
<div id="motivation" class="section level3">
<h3>Motivation</h3>
<p>Modeling functions across different R packages can have very different interfaces. If you would like to try different approaches, there is a lot of syntactical minutiae to remember. The problem worsens when you move in-between platforms (e.g. doing a logistic regression in R’s <code>glm</code> versus Spark’s implementation).</p>
<p><code>parsnip</code> tries to solve this by providing similar interfaces to models. For example, if you are fitting a random forest model and would like to adjust the number of trees in the forest there are different argument names to remember:</p>
<ul>
<li><code>randomForest::randomForest</code> uses <code>ntree</code>,</li>
<li><code>ranger::ranger</code> uses <code>num.trees</code>,<br />
</li>
<li>Spark’s <code>sparklyr::ml_random_forest</code> uses <code>num_trees</code>.</li>
</ul>
<p>Rather than remembering these values, a common interface to these models can be used with</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(parsnip)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">rf_mod &lt;-<span class="st"> </span><span class="kw">rand_forest</span>(<span class="dt">trees =</span> <span class="dv">2000</span>)</a></code></pre></div>
<p>The package makes the translation between <code>trees</code> and the real names in each of the implementations.</p>
<p>Some terminology:</p>
<ul>
<li>The <strong>model type</strong> differentiates models. Example types are: random forests, logistic regression, linear support vector machines, etc.</li>
<li>The <strong>mode</strong> of the model denotes how it will be used. Two common modes are <em>classification</em> and <em>regression</em>. Others would include “censored regression” and “risk regression” (parametric and Cox PH models for censored data, respectively), as well as unsupervised models (e.g. “clustering”).</li>
<li>The <strong>computational engine</strong> indicates how the actual model might be fit. These are often R packages (such as <code>randomForest</code> or <code>ranger</code>) but might also be methods outside of R (e.g. Stan, Spark, and others).</li>
</ul>
<p><code>parsnip</code>, similar to <code>ggplot2</code>, <code>dplyr</code> and <code>recipes</code>, separates the specification of what you want to do from the actual doing. This allows us to create broader functionality for modeling.</p>
</div>
<div id="placeholders-for-parameters" class="section level3">
<h3>Placeholders for Parameters</h3>
<p>There are times where you would like to change a parameter from its default but you are not sure what the final value will be. This is the basis for <em>model tuning</em>. Since the model is not executing when created, these types of parameters can be changed using the <code>varying()</code> function. This provides a simple placeholder for the value.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">tune_mtry &lt;-<span class="st"> </span><span class="kw">rand_forest</span>(<span class="dt">trees =</span> <span class="dv">2000</span>, <span class="dt">mtry =</span> <span class="kw">varying</span>())</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">tune_mtry</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#&gt; Random Forest Model Specification (unknown)</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt; Main Arguments:</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt;   mtry = varying()</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt;   trees = 2000</span></a></code></pre></div>
<p>This will come in handy later when we fit the model over different values of <code>mtry</code>.</p>
</div>
<div id="specifying-arguments" class="section level3">
<h3>Specifying Arguments</h3>
<p>Commonly used arguments to the modeling functions have their parameters exposed in the function. For example, <code>rand_forest</code> has arguments for:</p>
<ul>
<li><code>mtry</code>: The number of predictors that will be randomly sampled at each split when creating the tree models.</li>
<li><code>trees</code>: The number of trees contained in the ensemble.</li>
<li><code>min_n</code>: The minimum number of data points in a node that are required for the node to be split further.</li>
</ul>
<p>The arguments to the default function are:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">args</span>(rand_forest)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">#&gt; function (mode = &quot;unknown&quot;, mtry = NULL, trees = NULL, min_n = NULL, </span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#&gt;     ...) </span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt; NULL</span></a></code></pre></div>
<p>However, there might be other arguments that you would like to change or allow to vary. These are accessible using the <code>...</code> slot. This is a named list of arguments in the form of the underlying function being called. For example, <code>ranger</code> has an option to set the internal random number seed. To set this to a specific value:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">rf_with_seed &lt;-<span class="st"> </span><span class="kw">rand_forest</span>(</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">  <span class="dt">trees =</span> <span class="dv">2000</span>, </a>
<a class="sourceLine" id="cb4-3" data-line-number="3">  <span class="dt">mtry =</span> <span class="kw">varying</span>(), </a>
<a class="sourceLine" id="cb4-4" data-line-number="4">  <span class="dt">seed =</span> <span class="dv">63233</span>, </a>
<a class="sourceLine" id="cb4-5" data-line-number="5">  <span class="dt">mode =</span> <span class="st">&quot;regression&quot;</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6">)</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">rf_with_seed</a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt; Random Forest Model Specification (regression)</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt; Main Arguments:</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt;   mtry = varying()</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt;   trees = 2000</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt; Engine-Specific Arguments:</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt;   seed = 63233</span></a></code></pre></div>
<p>If the model function contains the ellipses (<code>...</code>), these additional arguments can be passed along using <code>others</code>.</p>
</div>
<div id="process" class="section level3">
<h3>Process</h3>
<p>To fit the model, you must:</p>
<ul>
<li>define the model, including the <em>mode</em>,</li>
<li>have no <code>varying()</code> parameters, and</li>
<li>specify a computational engine.</li>
</ul>
<p>The first step before fitting the model is to resolve the underlying model’s syntax. A helper function called <code>translate</code> does this:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">library</span>(parsnip)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">rf_mod &lt;-<span class="st"> </span><span class="kw">rand_forest</span>(<span class="dt">trees =</span> <span class="dv">2000</span>, <span class="dt">mode =</span> <span class="st">&quot;regression&quot;</span>)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">rf_mod</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt; Random Forest Model Specification (regression)</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt; Main Arguments:</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt;   trees = 2000</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="kw">translate</span>(rf_mod, <span class="dt">engine =</span> <span class="st">&quot;ranger&quot;</span>)</a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt; Random Forest Model Specification (regression)</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt; Main Arguments:</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt;   trees = 2000</span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="co">#&gt; Computational engine: ranger </span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-17" data-line-number="17"><span class="co">#&gt; Model fit template:</span></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="co">#&gt; ranger::ranger(formula = missing_arg(), data = missing_arg(), </span></a>
<a class="sourceLine" id="cb5-19" data-line-number="19"><span class="co">#&gt;     case.weights = missing_arg(), num.trees = 2000, num.threads = 1, </span></a>
<a class="sourceLine" id="cb5-20" data-line-number="20"><span class="co">#&gt;     verbose = FALSE, seed = sample.int(10^5, 1))</span></a>
<a class="sourceLine" id="cb5-21" data-line-number="21"><span class="kw">translate</span>(rf_mod, <span class="dt">engine =</span> <span class="st">&quot;randomForest&quot;</span>)</a>
<a class="sourceLine" id="cb5-22" data-line-number="22"><span class="co">#&gt; Random Forest Model Specification (regression)</span></a>
<a class="sourceLine" id="cb5-23" data-line-number="23"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-24" data-line-number="24"><span class="co">#&gt; Main Arguments:</span></a>
<a class="sourceLine" id="cb5-25" data-line-number="25"><span class="co">#&gt;   trees = 2000</span></a>
<a class="sourceLine" id="cb5-26" data-line-number="26"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-27" data-line-number="27"><span class="co">#&gt; Computational engine: randomForest </span></a>
<a class="sourceLine" id="cb5-28" data-line-number="28"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-29" data-line-number="29"><span class="co">#&gt; Model fit template:</span></a>
<a class="sourceLine" id="cb5-30" data-line-number="30"><span class="co">#&gt; randomForest::randomForest(x = missing_arg(), y = missing_arg(), </span></a>
<a class="sourceLine" id="cb5-31" data-line-number="31"><span class="co">#&gt;     ntree = 2000)</span></a></code></pre></div>
<p>Note that any extra engine-specific arguments have to be valid for the model:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">translate</span>(rf_with_seed, <span class="dt">engine =</span> <span class="st">&quot;ranger&quot;</span>)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="co">#&gt; Random Forest Model Specification (regression)</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt; Main Arguments:</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt;   mtry = varying()</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt;   trees = 2000</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt; Engine-Specific Arguments:</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt;   seed = 63233</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt; Computational engine: ranger </span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="co">#&gt; Model fit template:</span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co">#&gt; ranger::ranger(formula = missing_arg(), data = missing_arg(), </span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">#&gt;     case.weights = missing_arg(), mtry = varying(), num.trees = 2000, </span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">#&gt;     seed = 63233, num.threads = 1, verbose = FALSE)</span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17"><span class="kw">translate</span>(rf_with_seed, <span class="dt">engine =</span> <span class="st">&quot;randomForest&quot;</span>)</a>
<a class="sourceLine" id="cb6-18" data-line-number="18"><span class="co">#&gt; Random Forest Model Specification (regression)</span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20"><span class="co">#&gt; Main Arguments:</span></a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="co">#&gt;   mtry = varying()</span></a>
<a class="sourceLine" id="cb6-22" data-line-number="22"><span class="co">#&gt;   trees = 2000</span></a>
<a class="sourceLine" id="cb6-23" data-line-number="23"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-24" data-line-number="24"><span class="co">#&gt; Engine-Specific Arguments:</span></a>
<a class="sourceLine" id="cb6-25" data-line-number="25"><span class="co">#&gt;   seed = 63233</span></a>
<a class="sourceLine" id="cb6-26" data-line-number="26"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-27" data-line-number="27"><span class="co">#&gt; Computational engine: randomForest </span></a>
<a class="sourceLine" id="cb6-28" data-line-number="28"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-29" data-line-number="29"><span class="co">#&gt; Model fit template:</span></a>
<a class="sourceLine" id="cb6-30" data-line-number="30"><span class="co">#&gt; randomForest::randomForest(x = missing_arg(), y = missing_arg(), </span></a>
<a class="sourceLine" id="cb6-31" data-line-number="31"><span class="co">#&gt;     mtry = varying(), ntree = 2000, seed = 63233)</span></a></code></pre></div>
<p><code>translate</code> shouldn’t need to be used unless you are really curious about the model fit function or what R packages are needed to fit the model. The function in the next section will always translate the model.</p>
</div>
<div id="fitting-the-model" class="section level2">
<h2>Fitting the Model</h2>
<p>These models can be fit using the <code>fit</code> function. Only the model object is returned.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">fit</span>(rf_mod, mpg <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> mtcars, <span class="dt">engine =</span> <span class="st">&quot;ranger&quot;</span>)</a></code></pre></div>
<pre><code>#&gt; parsnip model object
#&gt; 
#&gt; Ranger result
#&gt; 
#&gt; Call:
#&gt;  ranger::ranger(formula = formula, data = data, num.trees = ~2000,      num.threads = 1, verbose = FALSE, seed = sample.int(10^5,          1)) 
#&gt; 
#&gt; Type:                             Regression 
#&gt; Number of trees:                  2000 
#&gt; Sample size:                      32 
#&gt; Number of independent variables:  10 
#&gt; Mtry:                             3 
#&gt; Target node size:                 5 
#&gt; Variable importance mode:         none 
#&gt; Splitrule:                        variance 
#&gt; OOB prediction error (MSE):       5.71 
#&gt; R squared (OOB):                  0.843</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">fit</span>(rf_mod, mpg <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> mtcars, <span class="dt">engine =</span> <span class="st">&quot;randomForest&quot;</span>)</a></code></pre></div>
<pre><code>#&gt; parsnip model object
#&gt; 
#&gt; 
#&gt; Call:
#&gt;  randomForest(x = as.data.frame(x), y = y, ntree = ~2000) 
#&gt;                Type of random forest: regression
#&gt;                      Number of trees: 2000
#&gt; No. of variables tried at each split: 3
#&gt; 
#&gt;           Mean of squared residuals: 5.6
#&gt;                     % Var explained: 84.1</code></pre>
</div>

<script type="text/javascript">
window.onload = function() {
  var i, fig = 1, caps = document.getElementsByClassName('caption');
  for (i = 0; i < caps.length; i++) {
    var cap = caps[i];
    if (cap.parentElement.className !== 'figure' || cap.nodeName !== 'P')
      continue;
    cap.innerHTML = '<span>Figure ' + fig + ':</span> ' + cap.innerHTML;
    fig++;
  }
  fig = 1;
  caps = document.getElementsByTagName('caption');
  for (i = 0; i < caps.length; i++) {
    var cap = caps[i];
    if (cap.parentElement.nodeName !== 'TABLE') continue;
    cap.innerHTML = '<span>Table ' + fig + ':</span> ' + cap.innerHTML;
    fig++;
  }
}
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
